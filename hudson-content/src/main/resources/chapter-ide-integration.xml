<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.sonatype.com/tmp/docbook/xml/4.5/docbookx.dtd">
<chapter id="chapter-ide-integration">
    <title>IDE Integration</title>
    <para>The default way of interacting with Hudson is the web-based user
      interface. In addition Hudson ships with web service interfaces, that
      enable integration with others tools such as integrated development
      environments.</para>

  <section>
    <title>Eclipse Integration</title>


    <para>Hudson offers an intuitive set of Eclipse plugins which allow for
      greater control and interaction with your Hudson instance. This section
      covers some of these plugins and gives you an overview of how to access
      some of the features that allow you to have immediate insight into
      continuous builds.
    </para>

    <section>
      <title>The Hudson Jobs Eclipse View</title>

      <para>To open up the Hudson Jobs view in Eclipse, go to
        <menuchoice>
          <guimenu>Window</guimenu>
          <guisubmenu>Show View</guisubmenu>
          <guimenuitem>Other...</guimenuitem>
        </menuchoice>
        . Selecting this menu item will display the dialog shown in
        <xref linkend="fig-eclipse-open-hudson-jobs" xrefstyle="label"/>.
      </para>

      <figure id="fig-eclipse-open-hudson-jobs">
        <title>Opening the Hudson Jobs View in Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-open-hudson-jobs.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-open-hudson-jobs.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>

      <para>Once you've select this Hudson Jobs view, you should see a list of
        jobs as shown in<xref linkend="fig-eclipse-hudson-jobs"/>. This is a
        list which is retrieved directly from Hudson using Hudson REST services.
        To refresh the list of jobs, click on the refresh icon shown in the
        following figure.
      </para>

      <figure id="fig-eclipse-hudson-jobs">
        <title>Hudson Jobs View in Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-hudson-jobs.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-hudson-jobs.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>

      <para>If your Eclipse instance is not yet connected to a Hudson server,
        click on the blue sphere icon to the left of the refresh icon in the
        previous figure. This icon will load the Subscribe to Build Job
        Notifications dialog. To connect Eclipse to a new Hudson instance, enter
        the URL of the Hudson server along with your username and password
        credentials.
      </para>
    </section>

    <section>
      <title>View Hudson Projects from Eclipse</title>

      <para>Once you've loaded a list of Hudson jobs in Eclipse, you can click
        on one of these Build Jobs to view a detailed snapshot of the project
        status and any associated builds.
        <xref linkend="fig-eclipse-matrix-project"/>
        shows the status of a build job from Sonatype's own Hudson instance. In
        tis dialog you can see that the job detail window contains general
        information about the Job in Job Properties, information about specific
        Job Builds in Build Properties and also links to alternative
        configuration for Build Jobs. If you need to get more information about
        the Job's workspace in order to trouble shoot a build, you can also
        click on<option>View job workspace</option>. Clicking on this link will
        load the project's workspace in a browser window as a another Eclipse
        tab.
      </para>

      <figure id="fig-eclipse-matrix-project">
        <title>Viewing a Matrix Project from Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-matrix-project.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-matrix-project.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>

      <para>There are two very useful ways in which you can view the results of
        a build. They are viewing a build's JUnit test results, viewing the SCM
        changes associated with a specific build, and viewing a build's console
        output. Both of these views of a particular job are the main ways in
        which you can understand and diagnose issues with continuous integration
        builds.
      </para>

      <para>To view a build job's JUnit test results, load the job detail page
        and click on the Test Results link shown in<xref
          linkend="fig-eclipse-matrix-project"/>. Clicking on this link will
        load the view shown in<xref linkend="fig-eclipse-junit-tests"/>. From
        this view you can navigate through the JUnit test results for a specific
        build job. This level of visibility into the continuous integration
        machine gives you insight into code-level issues happening on a remote
        build machine without requiring you to exit out of Eclipse and fire up a
        web browser.
      </para>

      <figure id="fig-eclipse-junit-tests">
        <title>Viewing JUnit Test Reports from Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-junit-tests.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-junit-tests.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>

      <para>To view a specific build's SCM changes. Load the project detail view
        and click on the SCM Changes tab shown in<xref
          linkend="fig-eclipse-matrix-project"/>. This particular view of a
        project combines the changelog of every single build into a easily
        navigable interface. From the view shown in
        <xref linkend="fig-eclipse-scm-changes"/>
        you can see what code changes trigger individual builds and you can get
        a sense for what activity and which committer are responsible for build
        successes and failures.
      </para>

      <figure id="fig-eclipse-scm-changes">
        <title>Viewing SCM Changes from Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-scm-changes.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-scm-changes.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>

      <para>Viewing a specific build's console output is often the quickest way
        to get to the bottom of a build failure. To open a build's console
        output, select the project from the Hudson jobs view, select an
        individual project build, and then click on the "Console Output" link
        shown in<xref linkend="fig-eclipse-matrix-project"
                      xrefstyle="select:label"/>. Clicking on this link will
        load the view shown in<xref linkend="fig-eclipse-console-output"
                                    xrefstyle="select:label"/>. This view gives
        you the raw console output from a Hudson build.
      </para>

      <figure id="fig-eclipse-console-output">
        <title>Viewing Hudson Console Output from Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-console-output.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-console-output.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>

      <figure id="fig-eclipse-job-parent">
        <title>Hudson Jobs View in Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-job-parent.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-job-parent.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>

      <figure id="fig-eclipse-project-link">
        <title>Viewing a Hudson Project from Eclipse</title>
        <mediaobject>
          <imageobject role="web">
            <imagedata contentdepth="100%"
                       fileref="figs/web/ide-eclipse-project-link.png"
                       scalefit="1"/>
          </imageobject>
          <imageobject role="print">
            <imagedata align="center"
                       fileref="figs/print/ide-eclipse-project-link.pdf"
                       scalefit="0" width="100%"/>
          </imageobject>
        </mediaobject>
      </figure>
    </section>

  <section>
    <title>Configuring Eclipse Hudson Notifications</title>

    <para>Once you've connected Eclipse to Hudson, you can also
    configure the tool to notify you of build failure events. <xref
    linkend="fig-eclipse-notify" /> shows an Eclipse installation which has
    been configured to receive notifications of specific build failures.
    Eclipse will periodically poll Hudson to check for build failures in
    specific projects.</para>

    <figure id="fig-eclipse-notify">
      <title>Hudson Notifications in Eclipse</title>
      <mediaobject>
        <imageobject role="web">
          <imagedata contentdepth="100%"
                     fileref="figs/web/ide-eclipse-notify.png" scalefit="1" />
        </imageobject>
        <imageobject role="print">
          <imagedata align="center" fileref="figs/print/ide-eclipse-notify.pdf"
                     scalefit="0" width="100%" />
        </imageobject>
      </mediaobject>
    </figure>
  </section>
  </section>
</chapter>